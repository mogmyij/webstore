# Requirements Document: Karvana Solutions E-Commerce Website
**Version:** 1.0
**Date:** May 11, 2025
**Project:** Karvana - Generic Mobility E-Commerce Website

## 1. Project Overview & Goals
To develop a clean, modern, and trustworthy online platform for "Karvana" specializing in the sale of mobility products such as motorized wheelchairs and mobility scooters. The initial focus is on a desktop viewing experience with English as the only language. The site will allow guest checkout only, with HitPay integration for payments. The design should prioritize clarity, accessibility, and ease of navigation with a clean, modern aesthetic.

## 2. Business Name
Karvana
(Note: This is a placeholder name to be easily replaced throughout the codebase once the final business name is determined)
Company Moto: "MOBILITY IS FREEDOM"

## 3. Target Audience & User Experience
*   **Primary Audience:** Desktop users interested in purchasing mobility solutions, including motorized wheelchairs, mobility scooters, and related accessories.
*   **User Experience Focus:** Clean, clear, modern, trustworthy, and easy to navigate.

## 4. Core E-commerce Functionality

### 4.1. Product Display (Products Page)
*   **Layout:** Grid view for product listings, featuring a clean and clear design similar to premium e-commerce stores.
    *   The product grid should be organized with ample whitespace between items
    *   Consistent image sizes across all products
    *   Clear typography with good contrast for readability
*   **Product Card Content:** Each product card will display:
    *   Product Image
    *   Product Name
    *   Product Price (in Singapore Dollar - SGD)
*   **Search Functionality:** A search bar allowing users to search for products.
*   **Filtering:**
    *   **Price Filter:** A draggable bar allowing users to select a minimum and maximum price range.
    *   **Brand Filter:** Users can filter products by brand.
    *   **Product Category/Type:** Filter by product categories such as Power Wheelchairs, Folding Wheelchairs, Mobility Scooters, etc.
    *   **Weight Capacity:** Filter by supported weight ranges.
    *   **Key Features:** Filter by important features (e.g., Foldable, Indoor/Outdoor use, etc.)
*   **Sorting:**
    *   **Default Sort:** Newest additions first.
    *   **Other Sort Options:** By product name (A-Z, Z-A), by price (Low to High, High to Low).

### 4.2. Product Detail Page
*   **Content:**
    *   Multiple Product Images (if available)
    *   Image Zoom: Main product image should zoom in when the mouse hovers over it.
    *   Product Name
    *   Product Price (in SGD)
    *   Detailed Product Description
    *   Product Specifications (e.g., weight capacity, battery life, maximum speed, dimensions, etc.)
    *   Add to cart or instant checkout button...

### 4.3. Shopping Cart
*   **Functionality:**
    *   Add items to cart.
    *   Update quantity of items in the cart.
    *   Remove items from the cart.
    *   View item subtotal and cart total.
*   **Persistence:** The shopping cart contents should persist on the client-side (e.g., using browser cookies or local storage) even if the user navigates away or closes the browser.

### 4.4. Checkout Process
*   **User Flow:** Guest checkout only. No user accounts are required or will be implemented in this initial phase.
*   **Information Collection:**
    *   Shipping Information (Name, Address, Phone Number)
    *   Email Address (for order confirmation and invoice)
*   **Payment Integration:** HitPay will be used for payment processing.
    *   The backend (Next.js API route) will securely create a payment request with HitPay, including the total amount, currency (SGD), and a unique reference number for the order.
    *   The frontend will either redirect the user to HitPay's secure checkout page or use HitPay.js to present an embedded Drop-In UI for payment.
    *   HitPay supports various payment methods, including credit cards and potentially PayNow, Apple Pay, Google Pay, etc., enhancing customer options.
*   **Order Review:** Users should be able to review their order (items, quantities, shipping info, total cost) before final submission.

### 4.5. Order Confirmation & Post-Payment Handling
*   Upon successful payment completion and confirmation via HitPay webhook:
    *   A dedicated page will be displayed confirming the successful order.
    *   This page will show:
        *   A "successful order" message.
        *   A unique Order Number (generated by your system and linked to the HitPay payment_request_id and payment_id).
    *   An invoice/order confirmation will be sent to the user's provided email address.
    *   The backend will handle HitPay webhooks to securely confirm payment status and update the order in the database (e.g., mark as "paid").

## 5. User Account Management
*   **No User Accounts:** User registration, login, and profiles will not be implemented in this initial version.
*   **Future Consideration:** The system architecture should, where feasible without over-complication, allow for the potential addition of user account features in the future.

## 6. Internationalization (i18n) and Localization (l10n)
*   **Languages:**
    *   English (en) - Only language.
*   **Currency:** All prices will be displayed exclusively in Singapore Dollar (SGD). No dynamic currency conversion is required.
*   **Language Switching:** Not applicable as English is the only language.

## 7. Design and User Experience (UX) - Homepage Specifics
The homepage serves as an introduction to the brand's services and trustworthiness, leading users to the product offerings.

**Structure & Content (in order from top to bottom):**
1.  **Animated Banner:** A visually engaging banner at the top, showcasing a rotation of different mobility products available.
2.  **"Our Brands" Section:**
    *   Display logos/images of the mobility product brands offered by Karvana.
    *   Each brand logo/image will be a clickable link.
    *   Clicking a brand link will navigate the user to the Products Page with the respective brand filter pre-applied.
3.  **Information about Company and Services:** This section will convey trust and detail the value proposition.
    *   **"Our Guarantee":** "All our mobility products at Karvana come with a 100% satisfaction guarantee. Each product undergoes thorough inspection and certification by our expert technicians before delivery. All products include a 12-month warranty, lifetime maintenance support, and repair service. We offer flexible payment options as well as free delivery and setup assistance."
    *   **"Trade-in & Upgrade Program":** "We understand that mobility needs may change over time. Our Trade-in & Upgrade Program ensures you can exchange your current mobility device for credit toward a new model that better suits your evolving requirements. Trade-in terms: devices must be in good working condition with original documentation. The trade-in value will typically be up to 70% of the original purchase price, depending on age and condition. This program is available exclusively for products purchased from Karvana. Please contact us directly through our website, phone, or messaging apps for more information."
    *   **"Key Benefits":** "All our mobility solutions are built to the highest safety and quality standards. Each product undergoes comprehensive testing and certification by qualified technicians. Every purchase includes a 12-month warranty with extended options available. We provide lifetime technical support and maintenance services. We offer flexible payment plans to suit your budget. Free delivery, setup, and personalized training are included with every purchase."
    *   **"About Us":** "Leading Provider of Independence-Enhancing Mobility Solutions. Karvana is your trusted partner for high-quality mobility equipment. Our experienced team carefully selects products that combine reliability, comfort, and innovation to help our customers maintain their independence and quality of life. We believe that the right mobility solution can transform daily living, which is why we focus on personalized service and ongoing support."
4.  **Footer:** Standard website footer.

## 8. Content Pages (Static Information)
*   **Combined "About Us / Contact Us" Page:** This single page will provide information about the company (potentially expanding on the homepage "About Us" snippet) and clear ways for users to contact Karvana using WhatsApp.

## 9. Technical Stack & Architecture
*   **Frontend Framework/Library:** React with Next.js
*   **Programming Language:** TypeScript
*   **Routing:** Next.js built-in router (e.g., App Router or Pages Router).
*   **State Management:** React Context API for global state needs (e.g., shopping cart).
*   **Styling:** Tailwind CSS
*   **Backend Logic & API Integration:**
    *   Next.js API routes will be used for backend logic.
    *   **Product Data:** For the initial build, mock data will be used for products. (Future: API for product data management).
    *   **Payment Gateway Integration (HitPay):**
        *   An API route will be created on the Next.js backend to handle the "Create Payment Request" call to the HitPay API. This route will securely use the HitPay API key and pass necessary details like amount, currency, reference number, redirect URL, and webhook URL.
        *   The frontend will call this API route to initiate the payment process.
        *   The backend will return the HitPay payment_request_id and checkout url (or data for Drop-In UI) to the frontend.
        *   A separate API route will be established as the webhook endpoint to receive payment status updates from HitPay. This endpoint will validate the incoming webhook data (including HMAC signature) and update the order status in the application's database.
    *   **Database:** A database will be required to store order information, including customer details, items purchased, order status, and HitPay transaction references. (Specific database technology TBD, e.g., PostgreSQL, MySQL, MongoDB, or a BaaS like Supabase/Firebase).
*   **Responsiveness:** Initial focus is on desktop viewing, but the design should be implemented with future mobile responsiveness in mind where practical.

## 10. Visual Reference Guidelines
The product listing page should follow these design principles:
*   **Layout:** Clean grid layout with consistent spacing between products
*   **Product Cards:** Uniform in size with clear hierarchy of information
*   **Typography:** Clear, readable fonts with proper contrast
*   **Filtering:** Sidebar filters with intuitive controls (checkboxes for brands/categories, slider for price range)
*   **Navigation:** Clear breadcrumb navigation on product listing pages
*   **Color Scheme:** Professional, trustworthy color scheme with good contrast for accessibility
*   **Visual Hierarchy:** Important elements (like product names and prices) should have visual prominence
*   **Whitespace:** Ample spacing between elements to create a clean, uncluttered appearance
